(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-539bdf2a"],{"2ad0":function(e,t,a){},7277:function(e,t,a){"use strict";a.r(t);var i=a("7a23"),c=function(e){return Object(i["pushScopeId"])("data-v-0bbe0e76"),e=e(),Object(i["popScopeId"])(),e},r={class:"clearfix"},o={class:"text item"},n={class:"icon","aria-hidden":"true"},d=["xlink:href"],l={class:"text"},s=c((function(){return Object(i["createElementVNode"])("div",{id:"myTimer",style:{"margin-left":"15px","font-weight":"550"}},null,-1)})),u=c((function(){return Object(i["createElementVNode"])("div",{id:"main",style:{"margin-left":"5px"}},null,-1)}));function b(e,t,a,c,b,m){var p=Object(i["resolveComponent"])("el-card"),f=Object(i["resolveComponent"])("el-col"),g=Object(i["resolveComponent"])("el-row");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[Object(i["createVNode"])(g,{gutter:20},{default:Object(i["withCtx"])((function(){return[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(m.displayedCards,(function(e){return Object(i["openBlock"])(),Object(i["createBlock"])(f,{span:6,key:e.title},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(p,{class:"box-card"},{default:Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",r,Object(i["toDisplayString"])(e.title),1),Object(i["createElementVNode"])("div",o,[(Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",n,[Object(i["createElementVNode"])("use",{"xlink:href":e.icon,style:{width:"100px"}},null,8,d)])),Object(i["createElementVNode"])("span",l,Object(i["toDisplayString"])(e.data),1)])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),s,u])}a("d81d");var m=a("313e"),p=a("3ef4"),f=a("b775"),g=a("a18c"),h={data:function(){return{cards:[{title:"总借阅",data:100,icon:"#iconlend-record-pro"},{title:"每天总访问",data:100,icon:"#iconvisit"},{title:"图书数",data:100,icon:"#iconbook-pro"},{title:"用户数",data:1e3,icon:"#iconpopulation"}],cards2:[{title:"已借阅",data:100,icon:"#iconlend-record-pro"},{title:"借书信用分",data:100,icon:"#iconvisit"},{title:"订座信用分",data:100,icon:"#iconbook-pro"},{title:"未使用的订座",data:1e3,icon:"#iconpopulation"}],data:{},user:{}}},computed:{displayedCards:function(){return 1===this.user.role?this.cards:this.cards2}},created:function(){var e=sessionStorage.getItem("user");e||g["a"].push("/login"),this.user=JSON.parse(e)},mounted:function(){var e=this;this.circleTimer(),1===this.user.role?f["a"].get("/dashboard/super").then((function(t){0==t.code?(e.cards[0].data=t.data.lendRecordCount,e.cards[1].data=t.data.visitCount,e.cards[2].data=t.data.bookCount,e.cards[3].data=t.data.userCount):p["a"].error(t.msg);var a=m["a"](document.getElementById("main"));console.log(e.cards[0].data),a.setOption({title:{text:"统计"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:e.cards.map((function(e){return e.title})),axisTick:{alignWithLabel:!0}},yAxis:{type:"value"},series:[{type:"bar",label:{show:!0},barWidth:"25%",data:[{value:e.cards[0].data,itemStyle:{color:"#5470c6"}},{value:e.cards[1].data,itemStyle:{color:"#91cc75"}},{value:e.cards[2].data,itemStyle:{color:"#fac858"}},{value:e.cards[3].data,itemStyle:{color:"#ee6666"}}]}]}),window.addEventListener("resize",(function(){a.resize()}))})):2===this.user.role&&f["a"].get("/dashboard/user?uid="+this.user.id).then((function(t){0==t.code?(e.cards2[0].data=t.data.lendSize,e.cards2[1].data=t.data.bookstatus,e.cards2[2].data=t.data.seatstatus,e.cards2[3].data=t.data.seatSize):p["a"].error(t.msg);var a=m["a"](document.getElementById("main"));console.log(e.cards2[0].data),a.setOption({title:{text:"统计"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:e.cards2.map((function(e){return e.title})),axisTick:{alignWithLabel:!0}},yAxis:{type:"value"},series:[{type:"bar",label:{show:!0},barWidth:"25%",data:[{value:e.cards2[0].data,itemStyle:{color:"#5470c6"}},{value:e.cards2[1].data,itemStyle:{color:"#91cc75"}},{value:e.cards2[2].data,itemStyle:{color:"#fac858"}},{value:e.cards2[3].data,itemStyle:{color:"#ee6666"}}]}]}),window.addEventListener("resize",(function(){a.resize()}))}))},methods:{circleTimer:function(){var e=this;this.getTimer(),setInterval((function(){e.getTimer()}),1e3)},getTimer:function(){var e=new Date,t=e.toLocaleString();document.getElementById("myTimer").innerHTML=t}}},v=(a("7ff6"),a("6b0d")),y=a.n(v);const O=y()(h,[["render",b],["__scopeId","data-v-0bbe0e76"]]);t["default"]=O},"7ff6":function(e,t,a){"use strict";a("2ad0")}}]);
//# sourceMappingURL=chunk-539bdf2a.5f51bf58.js.map