(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1074"],{"43fe":function(e,t,r){"use strict";r.r(t);var o=r("7a23"),n=Object(o["createTextVNode"])("提交"),s=Object(o["createTextVNode"])("重置");function a(e,t,r,a,c,i){var u=Object(o["resolveComponent"])("el-input"),l=Object(o["resolveComponent"])("el-form-item"),d=Object(o["resolveComponent"])("el-button"),m=Object(o["resolveComponent"])("el-form"),f=Object(o["resolveComponent"])("el-card");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(f,{style:{width:"40%","margin-left":"120px","margin-top":"40px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{ref:"form",model:c.form,"status-icon":"",rules:c.rules,"label-width":"100px",class:"demo-ruleForm"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{label:"新密码",prop:"password"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:c.form2.password,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.form2.password=e}),type:"password",autocomplete:"off"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(l,{label:"确认新密码",prop:"checkpassword"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{modelValue:c.form.checkpassword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.form.checkpassword=e}),type:"password",autocomplete:"off"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{type:"primary",onClick:i.submitForm,style:{"text-align":"center","margin-left":"120px"}},{default:Object(o["withCtx"])((function(){return[n]})),_:1},8,["onClick"]),Object(o["createVNode"])(d,{onClick:t[2]||(t[2]=function(e){return i.resetForm("form")}),style:{"text-align":"center","margin-left":"20px"}},{default:Object(o["withCtx"])((function(){return[s]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})])}var c=r("b775"),i=r("3ef4"),u=r("a18c"),l={name:"Password",data:function(){var e=this,t=function(e,t,r){""===t?r(new Error("请输入新密码")):r()},r=function(t,r,o){""===r?o(new Error("请再次输入密码")):r!==e.form2.password?o(new Error("两次输入密码不匹配")):o()};return{buttonName:"获取短信验证码",isDisabled:!1,time:60,phone:"",form:{checkpassword:""},form2:{phone:"",code:"",password:"",id:0},rules:{password:[{validator:t,trigger:"blur",required:!0}],checkpassword:[{validator:r,trigger:"blur",required:!0}]}}},created:function(){var e=sessionStorage.getItem("user");e||u["a"].push("/login");var t=JSON.parse(sessionStorage.getItem("user"));this.phone=t.phone,this.form2.id=t.id,this.form2.phone=t.phone},methods:{getcode:function(){if(null==this.phone)return i["a"].error("获取失败! 请先将个人信息补充完整"),void this.$router.push("/person");var e=this;e.isDisabled=!0;var t=window.setInterval((function(){e.buttonName="（"+e.time+"秒）后重新发送",--e.time,e.time<0&&(e.buttonName="重新发送",e.time=60,e.isDisabled=!1,window.clearInterval(t))}),1e3);c["a"].get("user/getcode",{params:{phone:this.phone}}).then((function(e){0==e.code?i["a"].success("验证码发送成功"):i["a"].error(e.msg)}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&c["a"].put("user/password",e.form2).then((function(t){0==t.code?(i["a"].success("密码修改成功,请重新登录"),sessionStorage.removeItem("user"),e.$router.push("/login")):i["a"].error(t.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},d=r("6b0d"),m=r.n(d);const f=m()(l,[["render",a]]);t["default"]=f}}]);
//# sourceMappingURL=chunk-2d0c1074.0138ffcf.js.map